spring:
  cloud:
    gateway:
      default-filters:
        - AddResponseHeader=X-Gateway, SpringCloudGateway
      server:
        webflux:
          routes:
            # ðŸ”‘ Authentication Service
            - id: auth-service
              uri: http://172.22.0.8:8084 # Use logical service name for Docker network
              predicates:
                - Path=/auth/**
              filters:
                # No JWT validation for auth endpoints (login/register)
                - StripPrefix=1 # Removes /auth before forwarding

            # ðŸš— Ilija â€“ Fahrzeugverwaltung
            - id: fahrzeug-service
              uri: lb://fahrzeug-service # Use logical service name for Docker network
              predicates:
                - Path=/api/fahrzeuge/**
              filters:
                - name: JwtAuthenticationFilter

            # ðŸ“Š Noah â€“ Reporting / Statistik
            - id: reporting-service
              uri: lb://reporting-service # Use logical service name for Docker network
              predicates:
                - Path=/api/reporting/**
              filters:
                - name: JwtAuthenticationFilter

            # ðŸ‘¤ Vale â€“ Benutzerverwaltung
            - id: benutzer-service
              uri: lb://benutzer-service # Use logical service name for Docker network
              predicates:
                - Path=/api/benutzer/**
              filters:
                - name: JwtAuthenticationFilter

            # ðŸš˜ Henri â€“ Buchungssystem
            - id: buchung-service
              uri: lb://buchung-service # Use logical service name for Docker network
              predicates:
                - Path=/api/buchung/**
              filters:
                - name: JwtAuthenticationFilter
